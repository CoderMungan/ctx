{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": ".*",
        "hooks": [{"type": "command", "command": "ctx system context-load-gate"}]
      },
      {
        "matcher": "Bash",
        "hooks": [{"type": "command", "command": "ctx system block-non-path-ctx"}]
      },
      {
        "matcher": "Edit",
        "hooks": [{"type": "command", "command": "ctx system qa-reminder"}]
      },
      {
        "matcher": ".*",
        "hooks": [{"type": "command", "command": "ctx agent --budget 4000 2>/dev/null || true"}]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Bash",
        "hooks": [{"type": "command", "command": "ctx system post-commit"}]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {"type": "command", "command": "ctx system check-context-size"},
          {"type": "command", "command": "ctx system check-ceremonies"},
          {"type": "command", "command": "ctx system check-persistence"},
          {"type": "command", "command": "ctx system check-journal"},
          {"type": "command", "command": "ctx system check-reminders"},
          {"type": "command", "command": "ctx system check-version"},
          {"type": "command", "command": "ctx system check-resources"},
          {"type": "command", "command": "ctx system check-knowledge"},
          {"type": "command", "command": "ctx system check-map-staleness"}
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [{"type": "command", "command": "ctx system cleanup-tmp"}]
      }
    ]
  }
}
