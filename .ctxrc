# .ctxrc — ctx runtime configuration
# https://ctx.ist/configuration/
#
# All settings are optional. Missing values use defaults.
# Priority: CLI flags > environment variables > .ctxrc > defaults

# context_dir: .context
# token_budget: 8000
# auto_archive: true
# archive_after_days: 7
# scratchpad_encrypt: true
# allow_outside_cwd: false
# entry_count_learnings: 30
# entry_count_decisions: 20
# convention_line_count: 200
# priority_order:
#   - CONSTITUTION.md
#   - TASKS.md
#   - CONVENTIONS.md
#   - ARCHITECTURE.md
#   - DECISIONS.md
#   - LEARNINGS.md
#   - GLOSSARY.md
#   - AGENT_PLAYBOOK.md

# --- Webhook notifications ---
# Notifications are opt-in: nothing fires unless events are listed.
# Run `ctx notify setup` to configure the encrypted webhook URL first.
#
notify:
  events:
    - loop    # Loop script completed or hit max iterations
    - nudge   # VERBATIM relay hooks fired a nudge to the agent
    # nudge sub-events:
    #   check-context-size  — context checkpoint threshold reached
    #   check-persistence   — no context updated in N+ prompts
    #   check-ceremonies    — session ceremony reminder
    #   check-journal       — unexported/unenriched journal entries
    #   check-resources     — system resources critically low
    #   check-knowledge     — knowledge file growth detected
    #   check-version       — binary/plugin version mismatch or key rotation
    - relay   # All hook output (verbose — includes nudges plus)
    # relay sub-events:
    #   post-commit         — commit succeeded, context capture offered
    #   qa-reminder         — QA gate reminder emitted
    #   block-non-path-ctx  — blocked non-PATH ctx invocation
  key_rotation_days: 90  # Days before encryption key rotation nudge
#
# Note: `ctx notify test` always bypasses the event filter — no need to
# list "test" here. It warns if filtered but sends anyway.
